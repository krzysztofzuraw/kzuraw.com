---
import { getCollection } from "astro:content";

import Link from "@/components/link.astro";
import Base from "@/layouts/base.astro";

const blogPosts = await getCollection("blog").then((posts) =>
  posts.slice(0, 3),
);
---

<Base>
  <article>
    <h1>Hi, I'm Krzysztof Å»uraw</h1>
    <h2>
      I am a self-taught fullstack developer with over 5 years of experience.
    </h2>
    <p>
      My expertise lies in building React and TypeScript websites and web-apps.
      Currently, I work as a Staff Engineer at Saleor. In my free time, I enjoy
      brewing specialty coffee using V60.
    </p>
    <p>My most recent posts</p>
    <ul>
      {
        blogPosts.map((post) => (
          <li>
            <Link href={`/blog/${post.slug}`}>{post.data.title}</Link>
          </li>
        ))
      }
    </ul>
  </article>
</Base>
